{"version":3,"file":"static/js/725.dba222ac.chunk.js","mappings":"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","sources":["components/UI/navigation/Navigation.tsx","components/UI/amount/Amount.tsx","components/basketProduct/BasketProduct.tsx","store2/actions/BasketActions.ts","components/basket/basketBody/topicBasket/itemsBasket/bodyItems/BodyItems.tsx","webpack://client/./src/components/basket/basketBody/topicBasket/itemsBasket/bottomItems/bottomItems.module.scss?a6e4","components/basket/basketBody/topicBasket/itemsBasket/bottomItems/BottomItems.tsx","components/basket/basketBody/topicBasket/itemsBasket/topItems/TopItems.tsx","components/basket/basketBody/topicBasket/itemsBasket/ItemsBasket.tsx","components/basket/basketBody/topicBasket/TopicBasket.tsx","components/basket/basketBody/BasketBody.tsx","components/basket/MainBasket.tsx","pages/Basket.tsx","../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import React, { Children, FC, ReactNode } from 'react'\r\nimport './navigation.scss'\r\ninterface FooterProps{  \r\n    name?:string,\r\n    children?:any\r\n    changeName?:boolean\r\n    lock?:boolean\r\n    navigationClass?:string\r\n  }\r\nconst Navigation:FC<FooterProps> = ({children,navigationClass='origin'}) => {\r\n  return (\r\n    <div className={`Navigation ${navigationClass}`}>{children}</div>\r\n    \r\n  )\r\n}\r\n\r\nexport default Navigation","import React, { FC } from 'react'\r\nimport './amount.scss'\r\ninterface button{\r\n    value:number\r\n    change:(prev:any)=>void\r\n    classAmount?:string\r\n    max?:number\r\n    min?:number\r\n }\r\nconst Amount:FC<button> = ({value=0,change,classAmount='origin',max=1000,min=1}) => {\r\n\r\n    const onPlus=(a:number)=>{\r\n        const res = Math.min(max,a+1)\r\n        change(res)\r\n    }\r\n    const onMinus=(a:number)=>{\r\n        const res = Math.max(min,a-1)\r\n        change(res)\r\n    }\r\n  return (\r\n    <div className={`Amount ${classAmount}`}>\r\n        <div onClick={()=>onPlus(value)} className=\"Amount__change _plus\"></div>\r\n        <div className=\"Amount__number\">{value}</div>\r\n        <div  onClick={()=>onMinus(value)} className=\"Amount__change _minus\"></div>\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default Amount","import React,{FC,useState,useEffect, useContext} from 'react'\r\nimport { useAppDispatch, useAppSelector } from '../../hooks/reduxHooks'\r\nimport { navbarSlice } from '../../store2/reducers/NavBarSlice'\r\nimport { basketSlice } from '../../store2/reducers/BasketSlice'\r\nimport { changeAm, remove } from '../../store2/actions/BasketActions'\r\nimport { API_URL } from '../../utils/config'\r\nimport Amount from '../UI/amount/Amount'\r\n\r\ninterface button{\r\n    e:any\r\n   \r\n    products:any\r\n    basketId:any\r\n  \r\n   }\r\n   \r\n   \r\nconst BasketProduct:FC<button>  = ({e,products,basketId}) => {\r\n    const [amount, setamount] = useState(0)\r\n    const {sumPrice} = useAppSelector(state=>state.reducer.basket)\r\n    const {setSumPrice} = basketSlice.actions\r\n    const dispatch = useAppDispatch()\r\n\r\n\r\n\r\n    useEffect(() => {\r\n      setamount(e.count)\r\n      console.log(e.product.price,sumPrice);\r\n      \r\n   \r\n      \r\n    }, [])\r\n\r\n    const setAmount = (e:any,el:any)=>{\r\n        dispatch(changeAm(e,el,amount))\r\n        setamount(el)\r\n        \r\n    }\r\n\r\n\r\n    const onRemove = ()=>{\r\n         dispatch(remove(e,amount,basketId))\r\n       \r\n    }\r\n\r\n\r\n    \r\n \r\n  return (\r\n    <div className=\"items-basket__product\">\r\n    <div className=\"items-basket__image-flex\">\r\n        <div className=\"items-basket__image-cover\">\r\n            <div className=\"items-basket__image\">\r\n            <img src={`${API_URL}/${e.product.name}/${JSON.parse(e.product.images)[0]}`} alt=\"\"/>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    \r\n    \r\n    \r\n    <div className=\"items-basket__info\">\r\n        <div className=\"items-basket__name\">{e.product.name}</div>\r\n        <div className=\"items-basket__brand\">{e.product.brand.name}</div>\r\n    </div>\r\n    <div className=\"items-basket__price\">{e.product.price} Р</div>\r\n    <div className=\"items-basket__amount amount-basket\">\r\n        <Amount value={amount} change={(el:any)=>setAmount(e,el)} classAmount='basket'/>\r\n        \r\n    </div>\r\n    <div className=\"items-basket__total\">{e.product.price * amount} Р</div>\r\n    <div onClick={onRemove} className=\"items-basket__delete _icon-delete\"></div>\r\n</div>\r\n  )\r\n}\r\n\r\nexport default BasketProduct","\r\nimport { addOrder, changeAmount, getBasket, removeAll, removeItemFromBasket } from \"../../https/basketApi\";\r\nimport { change} from \"../../https/productApi\";\r\n\r\nimport { HOME_ROUTE, USER_ROUTE } from \"../../app/config/routs\";\r\nimport { basketSlice } from \"../reducers/BasketSlice\";\r\n\r\nimport { navbarSlice } from \"../reducers/NavBarSlice\";\r\n\r\nimport { AppDispatch, store } from \"../store\";\r\nimport { catalogSlice } from \"../reducers/CatalogSlice\";\r\nimport { userSlice } from \"../reducers/UserSlice\";\r\n\r\n\r\n\r\n\r\nexport const putBasket = ()=>async (dispatch:AppDispatch) => {\r\n  const currentState = store.getState();\r\n  const {user} = currentState.reducer.catalog\r\n  const {setProducts,setBasket,setLoad} = basketSlice.actions\r\n  try {\r\n    dispatch(setLoad(true))\r\n    const data = await getBasket({id:user.id})\r\n    dispatch(setBasket(data))\r\n    let arr:any = []\r\n\r\n    for (const it of data.basketItems) {\r\n    arr = [...arr, {[it.product._id]:it.count}]\r\n    }\r\n    \r\n    dispatch(setProducts(arr))\r\n  \r\n  } catch (error) {\r\n    console.log(error);\r\n  } finally{\r\n    dispatch(setLoad(false))\r\n  }\r\n\r\n}\r\n\r\n\r\nexport const buy = ()=>async (dispatch:AppDispatch) => {\r\n  const currentState = store.getState();\r\n  const {user} = currentState.reducer.catalog\r\n  const {sumPrice,products} = currentState.reducer.basket\r\n  const {setProducts} = navbarSlice.actions\r\n  const {setLoad} = basketSlice.actions\r\n\r\n\r\n\r\n  try {\r\n    dispatch(setLoad(true))\r\n    \r\n    dispatch(setProducts(0))\r\n    \r\n    const basket = await getBasket({id:user.id})\r\n        let arr:any = []\r\n        for (const it of basket.basketItems) {\r\n            arr = [...arr, {[it.product._id]:it.count}]\r\n        }\r\n  \r\n  await addOrder({ordersId:user.orders,price:sumPrice,products:JSON.stringify(arr)})\r\n\r\n        for (const it of products) {\r\n            await change({id:Object.keys(it)[0],purchase:1})\r\n        }\r\n \r\n  \r\n        await removeAll({id:user.basket})\r\n        window.location.replace(USER_ROUTE)\r\n        //window.location.reload();\r\n  \r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n\r\n}\r\n\r\nexport const changeAm = (e:any,el:any,amount:any)=>async (dispatch:AppDispatch) => {\r\n  const currentState = store.getState();\r\n  const {sumPrice,} = currentState.reducer.basket\r\n  const {setSumPrice} = basketSlice.actions\r\n  try {\r\n    dispatch(setSumPrice(sumPrice - (amount * e.product.price) +(el * e.product.price)))\r\n    await changeAmount({id:e._id,count:el})\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n\r\n}\r\n\r\n\r\nexport const remove = (e:any,amount:any,basketId:any)=>async (dispatch:AppDispatch) => {\r\n  const currentState = store.getState();\r\n  const {sumPrice,} = currentState.reducer.basket\r\n  const navbar = currentState.reducer.navbar\r\n  const {basket} = currentState.reducer.basket\r\n  const {setSumPrice,setBasket} = basketSlice.actions\r\n\r\n  const navbarSl = navbarSlice.actions\r\n\r\n  try {\r\n    dispatch(setBasket({...basket, basketItems:basket.basketItems.filter((fil:any)=>fil._id !== e._id)}))\r\n    dispatch(setSumPrice(sumPrice - (e.product.price * amount)))\r\n    dispatch(navbarSl.setProducts(navbar.products - 1))\r\n    await removeItemFromBasket({id:e.product._id,basketId})\r\n \r\n\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { useAppDispatch, useAppSelector } from \"../../../../../../hooks/reduxHooks\"\r\nimport { basketSlice } from \"../../../../../../store2/reducers/BasketSlice\"\r\nimport {useEffect} from 'react'\r\nimport BasketProduct from \"../../../../../basketProduct/BasketProduct\"\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\"\r\n\r\n\r\n\r\nconst BodyItems = () => {\r\n    const {user} = useAppSelector(state=>state.reducer.catalog)\r\n    const {basket} = useAppSelector(state=>state.reducer.basket)\r\n    const {setSumPrice} = basketSlice.actions\r\n    const dispatch = useAppDispatch()\r\n    useEffect(() => {\r\n      const sum = basket.basketItems.reduce((prev,current)=>current?.product?.price * current.count + prev,0)\r\n      dispatch(setSumPrice(sum))\r\n\r\n    }, [])\r\n    \r\n\r\n  return (\r\n    <div className=\"items-basket__body\">\r\n       <TransitionGroup className=\"todo-list\">\r\n    {\r\n             \r\n      basket.basketItems.map((e:any)=>\r\n      <CSSTransition\r\n      key={e._id}\r\n      timeout={500}\r\n      classNames=\"item\"\r\n    >\r\n        <BasketProduct \r\n        e={e} \r\n        products={basket}\r\n        basketId={user.basket}/>\r\n        </CSSTransition>\r\n      )}\r\n      </TransitionGroup>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BodyItems","// extracted by mini-css-extract-plugin\nexport default {\"slidesHome__nextButton\":\"bottomItems_slidesHome__nextButton__T7ClL\",\"slidesHome__prevButton\":\"bottomItems_slidesHome__prevButton__E2rbN\",\"_icon-arrow-bottom\":\"bottomItems__icon-arrow-bottom__vlTXW\",\"_icon-cabinet\":\"bottomItems__icon-cabinet__-P+-u\",\"_icon-calendar\":\"bottomItems__icon-calendar__fF0wo\",\"_icon-cart\":\"bottomItems__icon-cart__dV9qX\",\"_icon-check\":\"bottomItems__icon-check__BsLuI\",\"_icon-compare\":\"bottomItems__icon-compare__DmnEJ\",\"_icon-delete\":\"bottomItems__icon-delete__qmA1w\",\"_icon-exit\":\"bottomItems__icon-exit__zG0Ia\",\"_icon-mail\":\"bottomItems__icon-mail__B72kG\",\"_icon-phone\":\"bottomItems__icon-phone__uaDoH\",\"_icon-search\":\"bottomItems__icon-search__x+DL0\",\"_icon-star\":\"bottomItems__icon-star__puZWM\",\"_icon-user\":\"bottomItems__icon-user__3lws6\",\"_icon-wallet\":\"bottomItems__icon-wallet__YIQkL\",\"App\":\"bottomItems_App__k8fQG\",\"hidden\":\"bottomItems_hidden__k9w86\",\"slidesHome\":\"bottomItems_slidesHome__eWigc\",\"slidesHome__sliderCover\":\"bottomItems_slidesHome__sliderCover__jeWvK\",\"slidesHome__navigation\":\"bottomItems_slidesHome__navigation__G-QGm\",\"slider-brand-catalog__navigation\":\"bottomItems_slider-brand-catalog__navigation__tW35i\",\"slider-brand-catalog__prevButton\":\"bottomItems_slider-brand-catalog__prevButton__MjAIg\",\"slider-brand-catalog__nextButton\":\"bottomItems_slider-brand-catalog__nextButton__iJK+E\",\"homeSpinner\":\"bottomItems_homeSpinner__3wuKL\",\"totalPriceBasket\":\"bottomItems_totalPriceBasket__uCl+B\",\"left\":\"bottomItems_left__v2rJx\",\"right\":\"bottomItems_right__NoVNL\",\"buttonCart\":\"bottomItems_buttonCart__qo8yX\",\"active\":\"bottomItems_active__mK7ii\",\"bottom\":\"bottomItems_bottom__DDumw\",\"submit\":\"bottomItems_submit__z5Akx\"};","import { useAppDispatch, useAppSelector } from \"../../../../../../hooks/reduxHooks\"\r\nimport { buy } from \"../../../../../../store2/actions/BasketActions\"\r\nimport Button from \"../../../../../UI/button/Button\"\r\nimport Button2 from \"../../../../../UI/button2/Button2\"\r\nimport cls from './bottomItems.module.scss'\r\n\r\nconst BottomItems = () => {\r\n    const {sumPrice} = useAppSelector(state=>state.reducer.basket)\r\n    const dispatch = useAppDispatch()\r\n\r\n \r\n  return (\r\n    <div className={cls.bottom}>       \r\n    <div className={cls.submit}>\r\n        <Button2 onClick={()=>dispatch(buy())} className={cls.buttonCart} >Оформить заказ</Button2>\r\n    </div>\r\n    <div className={cls.totalPriceBasket}>\r\n        <div className={cls.left}>Итого:</div>\r\n        <div className={cls.right}>{sumPrice} Р</div>\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BottomItems","import './topItems.scss'\r\nconst items = ['Фото','Название','Цена','Количество','Итого']\r\n\r\nconst TopItems = () => {\r\n  return (\r\n    <div className=\"items-basket__top top-basket\">\r\n        {items.map(item=> <div key={item} className=\"top-basket__item\">{item}</div>)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TopItems","import React from 'react'\r\nimport BodyItems from './bodyItems/BodyItems'\r\nimport BottomItems from './bottomItems/BottomItems'\r\nimport TopItems from './topItems/TopItems'\r\nimport './itemsBasket.scss'\r\nconst ItemsBasket = () => {\r\n  return (\r\n    <div className=\"Basket__items items-basket\">\r\n        <TopItems/>\r\n        <BodyItems/>\r\n        <BottomItems/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ItemsBasket","import React from 'react'\r\nimport ItemsBasket from './itemsBasket/ItemsBasket'\r\n\r\nconst TopicBasket = () => {\r\n  return (\r\n    <div className=\"Basket__topic\">\r\n        <div className=\"Basket__title\">Корзина</div>\r\n        <ItemsBasket/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TopicBasket","import { useEffect, useState } from 'react'\r\nimport TopicBasket from './topicBasket/TopicBasket'\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks'\r\nimport { putBasket } from '../../../store2/actions/BasketActions'\r\nimport SpinnerBody from '../../UI/spinnerBody/SpinnerBody'\r\n\r\n\r\n\r\nexport const BasketBody = () => {\r\nconst {basket,load} = useAppSelector(state=>state.reducer.basket)\r\nconst dispatch = useAppDispatch()\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(putBasket())\r\n}, [])\r\n\r\n\r\n\r\n\r\n    \r\n  return (\r\n    <>\r\n    {load ?\r\n    <SpinnerBody/>\r\n    : ( basket && basket.basketItems.length !== 0 )?\r\n    <TopicBasket/>\r\n    :  <div className=\"Basket__none _icon-cart\">нет товаров</div>\r\n     \r\n     }</>\r\n  )\r\n}\r\n\r\n","import Navigation from \"../UI/navigation/Navigation\"\r\nimport { BasketBody } from \"./basketBody/BasketBody\"\r\nimport './basket.scss'\r\n\r\nconst MainBasket = () => {\r\n  return (\r\n    <div className=\"Basket\">\r\n    <div className=\"Basket__container\">\r\n        <div className=\"Basket__body\">\r\n            <Navigation navigationClass='basket'>Главная / Корзина</Navigation>\r\n            <BasketBody/>\r\n        </div>\r\n    </div>\r\n    \r\n            </div>\r\n  )\r\n}\r\n\r\nexport default MainBasket","import Layout from \"../app/Layout\"\r\nimport MainBasket from \"../components/basket/MainBasket\"\r\n\r\n\r\n\r\nconst Basket = () => {\r\n\r\n  return (\r\n\r\n    <Layout>\r\n        <MainBasket/>\r\n    </Layout>\r\n  \r\n\r\n    \r\n   \r\n\r\n   \r\n  )\r\n}\r\n\r\nexport default Basket","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}"],"names":["_ref","children","navigationClass","_jsx","className","concat","value","change","classAmount","max","min","_jsxs","onClick","a","res","Math","onPlus","onMinus","e","products","basketId","amount","setamount","useState","sumPrice","useAppSelector","state","reducer","basket","setSumPrice","basketSlice","actions","dispatch","useAppDispatch","useEffect","count","console","log","product","price","setAmount","el","changeAm","async","currentState","store","getState","changeAmount","id","_id","error","src","API_URL","name","JSON","parse","images","alt","brand","Amount","onRemove","remove","navbar","setBasket","navbarSl","navbarSlice","basketItems","filter","fil","setProducts","removeItemFromBasket","BodyItems","user","catalog","sum","reduce","prev","current","_current$product","TransitionGroup","map","CSSTransition","timeout","classNames","BasketProduct","BottomItems","cls","Button2","setLoad","getBasket","arr","it","addOrder","ordersId","orders","stringify","Object","keys","purchase","removeAll","window","location","replace","USER_ROUTE","items","TopItems","item","ItemsBasket","TopicBasket","BasketBody","load","data","_Fragment","SpinnerBody","length","MainBasket","Navigation","Basket","Layout","_extends","assign","bind","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf"],"sourceRoot":""}