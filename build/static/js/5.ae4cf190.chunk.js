"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5],{6121:function(e,t,n){n.d(t,{r:function(){return l}});var i,a=n(2791),r=["title","titleId"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function c(e,t){var n=e.title,c=e.titleId,l=s(e,r);return a.createElement("svg",o({width:"25px",height:"25px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",id:"cart-alt-1",className:"icon glyph",ref:t,"aria-labelledby":c},l),n?a.createElement("title",{id:c},n):null,i||(i=a.createElement("path",{d:"M10.62,14l-1,2H19a1,1,0,0,1,0,2H9.62a2,2,0,0,1-1.79-2.89L8.9,13,5.32,4H3A1,1,0,0,1,3,2H5.32A2,2,0,0,1,7.18,3.26L7.88,5H20.8l.09,0a1,1,0,0,1,.48.05,1,1,0,0,1,.56,1.3l-2.8,7a1,1,0,0,1-.93.63Zm-.12,5A1.5,1.5,0,1,0,12,20.5,1.5,1.5,0,0,0,10.5,19Zm6,0A1.5,1.5,0,1,0,18,20.5,1.5,1.5,0,0,0,16.5,19Z"})))}var l=a.forwardRef(c);n.p},6594:function(e,t,n){n.d(t,{r:function(){return l}});var i,a=n(2791),r=["title","titleId"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function c(e,t){var n=e.title,c=e.titleId,l=s(e,r);return a.createElement("svg",o({width:19,height:19,viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},l),n?a.createElement("title",{id:c},n):null,i||(i=a.createElement("path",{d:"M18 1H15V18H18V1ZM15 0H14V1V18V19H15H18H19V18V1V0H18H15ZM11 9.44441H8V18H11V9.44441ZM8 8.44441H7V9.44441V18V19H8H11H12V18V9.44441V8.44441H11H8ZM1 5.22216H4V18H1V5.22216ZM0 4.22216H1H4H5V5.22216V18V19H4H1H0V18V5.22216V4.22216Z",fill:"black"})))}var l=a.forwardRef(c);n.p},1710:function(e,t,n){n.d(t,{r:function(){return l}});var i,a=n(2791),r=["title","titleId"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function c(e,t){var n=e.title,c=e.titleId,l=s(e,r);return a.createElement("svg",o({width:"19px",height:"19px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},l),n?a.createElement("title",{id:c},n):null,i||(i=a.createElement("path",{d:"M12.9121 1.59053C12.7508 1.2312 12.3936 1 11.9997 1C11.6059 1 11.2487 1.2312 11.0874 1.59053L8.27041 7.86702L1.43062 8.60661C1.03903 8.64895 0.708778 8.91721 0.587066 9.2918C0.465355 9.66639 0.574861 10.0775 0.866772 10.342L5.96556 14.9606L4.55534 21.6942C4.4746 22.0797 4.62768 22.4767 4.94632 22.7082C5.26497 22.9397 5.68983 22.9626 6.03151 22.7667L11.9997 19.3447L17.968 22.7667C18.3097 22.9626 18.7345 22.9397 19.0532 22.7082C19.3718 22.4767 19.5249 22.0797 19.4441 21.6942L18.0339 14.9606L23.1327 10.342C23.4246 10.0775 23.5341 9.66639 23.4124 9.2918C23.2907 8.91721 22.9605 8.64895 22.5689 8.60661L15.7291 7.86702L12.9121 1.59053Z",fill:"#000000"})))}var l=a.forwardRef(c);n.p},7181:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(2791),a=n(184),r=function(e){var t=e.onClick,n=void 0===t?function(){}:t,r=e.children,o=e.className,s=void 0===o?"":o,c=e.rippleClass,l=void 0===c?"origin":c,d=e.ripple,u=void 0===d||d,v=(0,i.useRef)();return(0,a.jsx)("button",{ref:v,onClick:n,onMouseDown:function(e){return function(e){if(u){e.stopPropagation();var t=document.createElement("span");e.target.addEventListener("mouseup",(function(){t.style.opacity="0",t.addEventListener("transitionend",(function(){t.remove()}))})),e.target.addEventListener("mouseout",(function(){t.style.opacity="0",t.addEventListener("transitionend",(function(){t.remove()}))})),e.target.appendChild(t);var n=Math.max(e.target.clientWidth,e.target.clientHeight),i=n/2;t.style.width=t.style.height="".concat(n,"px"),t.style.left="".concat(e.clientX-i-v.current.getBoundingClientRect().left,"px"),t.style.top="".concat(e.clientY-i-v.current.getBoundingClientRect().top,"px"),t.classList.add("ripple"),t.classList.add(l)}}(e)},className:"Button2 ".concat(s),children:(0,a.jsx)("span",{className:"content",children:r})})},o=(0,i.memo)(r)},847:function(e,t,n){n.d(t,{Z:function(){return a}});n(2791);var i=n(184),a=function(e){var t=e.children,n=e.navigationClass,a=void 0===n?"origin":n;return(0,i.jsx)("div",{className:"Navigation ".concat(a),children:t})}},9940:function(e,t,n){n.d(t,{Z:function(){return L}});var i=n(8642),a=n(2791),r=n(8079),o=n(7689),s=n(1731),c=n(1413),l=n(9439),d=n(4122),u=n(9934),v=n(7563),f=n(8028),m=n(807),p=function(e){var t=e.inBasket,n=e.inCompare,i=e.inLoves,r=e.data,o=(0,a.useState)(t),s=(0,l.Z)(o,2),p=s[0],h=s[1],b=(0,a.useState)(n),g=(0,l.Z)(b,2),_=g[0],x=g[1],Z=(0,a.useState)(i),y=(0,l.Z)(Z,2),j=y[0],L=y[1],H=(0,a.useState)({basket:!0,compare:!0,love:!0}),C=(0,l.Z)(H,2),k=C[0],w=C[1],O=(0,d.C)((function(e){return e.reducer.catalog})).user,N=(0,d.C)((function(e){return e.reducer.navbar})),V=N.products,S=N.compare,E=u.P.actions,I=(0,d.T)();(0,a.useEffect)((function(){h(t)}),[t]),(0,a.useEffect)((function(){x(n)}),[n]),(0,a.useEffect)((function(){L(i)}),[i]);return{addToBasket:function(){var e=document.querySelector(".actionsMenu__span._product"),t=document.querySelector(".Navbar__loader");O.id?k.basket&&(p?(w((0,c.Z)((0,c.Z)({},k),{},{basket:!1})),(0,v.ff)({id:r._id,basketId:O.basket}).then((function(t){null===e||void 0===e||e.classList.add("active"),setTimeout((function(){null===e||void 0===e||e.classList.remove("active")}),300),I(E.setProducts(V-1)),h(!1)})).finally((function(){w((0,c.Z)((0,c.Z)({},k),{},{basket:!0}))}))):(w((0,c.Z)((0,c.Z)({},k),{},{basket:!1})),(0,v.mk)({basketId:O.basket,product:r._id,count:1}).then((function(t){null===e||void 0===e||e.classList.add("active"),setTimeout((function(){null===e||void 0===e||e.classList.remove("active")}),300),h(!0),I(E.setProducts(V+1))})).finally((function(){w((0,c.Z)((0,c.Z)({},k),{},{basket:!0}))})))):null!==t&&void 0!==t&&t.classList.contains("active")||(null===t||void 0===t||t.classList.add("active"),setTimeout((function(){null===t||void 0===t||t.classList.remove("active")}),1e3))},addToCompare:function(){var e=document.querySelector("._compare"),t=document.querySelector(".Navbar__loader");O.id?k.compare&&(_?(w((0,c.Z)((0,c.Z)({},k),{},{compare:!1})),(0,f.dH)({id:r._id,compareId:O.compare}).then((function(t){I(E.setCompare(S-1)),x(!1),null===e||void 0===e||e.classList.add("active"),setTimeout((function(){null===e||void 0===e||e.classList.remove("active")}),300)})).finally((function(){w((0,c.Z)((0,c.Z)({},k),{},{compare:!0}))}))):(w((0,c.Z)((0,c.Z)({},k),{},{compare:!1})),(0,f.sG)({compareId:O.compare,product:r._id}).then((function(t){x(!0),I(E.setCompare(S+1)),null===e||void 0===e||e.classList.add("active"),setTimeout((function(){null===e||void 0===e||e.classList.remove("active")}),300),x(!0)})).catch((function(e){console.log(e)})).finally((function(){w((0,c.Z)((0,c.Z)({},k),{},{compare:!0}))})))):null!==t&&void 0!==t&&t.classList.contains("active")||(null===t||void 0===t||t.classList.add("active"),setTimeout((function(){null===t||void 0===t||t.classList.remove("active")}),1e3))},addToLoves:function(){var e=document.querySelector(".Navbar__loader");if(!O.id)return w((0,c.Z)((0,c.Z)({},k),{},{compare:!1})),void(null!==e&&void 0!==e&&e.classList.contains("active")||(null===e||void 0===e||e.classList.add("active"),setTimeout((function(){null===e||void 0===e||e.classList.remove("active")}),1e3)));k.love&&(j?(w((0,c.Z)((0,c.Z)({},k),{},{love:!1})),(0,m.E6)({id:r._id,lovesId:O.loves}).then((function(e){L(!1)})).finally((function(){w((0,c.Z)((0,c.Z)({},k),{},{love:!0}))}))):(w((0,c.Z)((0,c.Z)({},k),{},{love:!1})),(0,m.mg)({lovesId:O.loves,product:r._id}).then((function(e){L(!0)})).catch((function(e){console.log(e.response.data)})).finally((function(){w((0,c.Z)((0,c.Z)({},k),{},{love:!0}))}))))},inBasketSnippet:p,inCompareSnippet:_,inLovesSnippet:j,loaders:k}},h=n(6594),b=n(1710),g=n(6121),_=n(3286),x=n(7181),Z=n(7778),y=n(184),j=function(e){var t=e.data,n=e.inBasket,c=void 0!==n&&n,l=e.inCompare,d=void 0!==l&&l,u=e.inLoves,v=void 0!==u&&u,f=e.className,m=void 0===f?"":f,j=(0,o.s0)(),L=p({inBasket:c,inCompare:d,inLoves:v,data:t}),H=L.addToBasket,C=L.addToCompare,k=L.addToLoves,w=L.inBasketSnippet,O=L.inCompareSnippet,N=L.inLovesSnippet,V=L.loaders,S=(0,Z.Z)(767.98,479.98),E=(0,Z.Z)(479.98),I=(0,a.useMemo)((function(){return m?E?"small":"large":S?"small":"large"}),[S,E]);return(0,y.jsx)("div",{className:"mainCatalog__item ".concat(m),children:(0,y.jsx)("div",{className:"slidesHome__slide slideHome",children:(0,y.jsxs)("div",{className:"slideHome__body",children:[(0,y.jsx)("div",{className:"slideHome__image",children:(0,y.jsx)("div",{className:"slideHome__imageCover",children:(0,y.jsx)("img",{src:"".concat(r.T5,"/").concat(t.name,"/").concat(JSON.parse(t.images)[0]),alt:""})})}),(0,y.jsx)("div",{className:"slideHome__name",children:t.name}),(0,y.jsx)("div",{className:"slideHome__brand",children:t.type.name}),(0,y.jsxs)("div",{className:"slideHome__price",children:[" $",t.price," "]}),(0,y.jsx)("div",{className:"slideHome__rating",children:(0,y.jsx)(i.Z,{size:I,name:"disabled",value:t.ratings.reduce((function(e,t){return e+t.rate}),0)/t.ratings.length,disabled:!0})}),(0,y.jsxs)("div",{className:"slideHome__actions",children:[(0,y.jsx)(x.Z,{onClick:function(){return j("".concat(s.H1,"/").concat(t._id))},className:"productCard",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),(0,y.jsx)(x.Z,{onClick:H,className:w?"productCard _cart active":"productCard _cart",children:V.basket?(0,y.jsx)(g.r,{}):(0,y.jsx)(_.Z,{className:w?"basketLoader _d":"basketLoader"})})]}),(0,y.jsxs)("div",{className:"slideHome__business businessHome",children:[V.compare?(0,y.jsx)(h.r,{onClick:C,className:O?"businessHome__item active":"businessHome__item"}):(0,y.jsx)(_.Z,{}),V.love?(0,y.jsx)(b.r,{onClick:k,className:N?"businessHome__item active":"businessHome__item"}):(0,y.jsx)(_.Z,{})]})]})})})},L=(0,a.memo)(j)},5005:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var i=n(5338),a=n(2791),r=n(847),o=n(4165),s=n(5861),c=n(7563),l=n(8028),d=n(807),u=n(8770),v=n(1771),f=n(9179),m=n(4122),p=n(77),h=n(9940),b=n(184),g=function(){var e=(0,m.C)((function(e){return e.reducer.catalog})),t=e.compare,n=e.loves,i=e.basket,g=(0,m.C)((function(e){return e.reducer.love})).load,_=(0,m.T)();return(0,a.useEffect)((function(){_(function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var n,i,a,r,s,m,p,h,b,g;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.h.getState(),i=n.reducer.catalog.user,a=u.G.actions,r=a.setBasket,s=a.setCompare,m=a.setLoves,p=v.e.actions.setLoad,e.prev=4,t(p(!0)),e.next=8,(0,d.PK)({id:i.loves});case 8:return h=e.sent,t(m(h.lovesItems)),e.next=12,(0,l._$)({id:i.compare});case 12:return b=e.sent,t(s(b.compareItems)),e.next=16,(0,c.fk)({id:i.id});case 16:g=e.sent,t(r(g.basketItems)),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),console.log(e.t0);case 23:return e.prev=23,t(p(!1)),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[4,20,23,26]])})));return function(t){return e.apply(this,arguments)}}())}),[]),(0,b.jsx)("div",{className:"Loves",children:(0,b.jsx)("div",{className:"Loves__container",children:(0,b.jsxs)("div",{className:"Loves__body",children:[(0,b.jsx)(r.Z,{navigationClass:"news",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f/\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),g?(0,b.jsx)(p.Z,{}):(0,b.jsx)("div",{className:"Loves__grid",children:null===n||void 0===n?void 0:n.map((function(e){return(0,b.jsx)(h.Z,{basket:i,loves:n,compare:t,data:e.product,inCompare:!!t.find((function(t){var n,i;return(null===(n=t.product)||void 0===n?void 0:n._id)==(null===(i=e.product)||void 0===i?void 0:i._id)})),inBasket:!!i.find((function(t){var n;return(null===(n=t.product)||void 0===n?void 0:n._id)==(null===e||void 0===e?void 0:e._id)})),inLoves:!!n.find((function(t){var n,i;return(null===(n=t.product)||void 0===n?void 0:n._id)==(null===(i=e.product)||void 0===i?void 0:i._id)})),className:"catalogItem"},e.product._id)}))})]})})})},_=function(){return(0,b.jsx)(i.Z,{children:(0,b.jsx)(g,{})})}}}]);
//# sourceMappingURL=5.ae4cf190.chunk.js.map