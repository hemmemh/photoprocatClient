"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5],{6121:(e,a,s)=>{s.d(a,{r:()=>c});var t,i=s(2791);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},l.apply(this,arguments)}function o(e,a){let{title:s,titleId:o,...c}=e;return i.createElement("svg",l({width:"25px",height:"25px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",id:"cart-alt-1",className:"icon glyph",ref:a,"aria-labelledby":o},c),s?i.createElement("title",{id:o},s):null,t||(t=i.createElement("path",{d:"M10.62,14l-1,2H19a1,1,0,0,1,0,2H9.62a2,2,0,0,1-1.79-2.89L8.9,13,5.32,4H3A1,1,0,0,1,3,2H5.32A2,2,0,0,1,7.18,3.26L7.88,5H20.8l.09,0a1,1,0,0,1,.48.05,1,1,0,0,1,.56,1.3l-2.8,7a1,1,0,0,1-.93.63Zm-.12,5A1.5,1.5,0,1,0,12,20.5,1.5,1.5,0,0,0,10.5,19Zm6,0A1.5,1.5,0,1,0,18,20.5,1.5,1.5,0,0,0,16.5,19Z"})))}const c=i.forwardRef(o);s.p},6594:(e,a,s)=>{s.d(a,{r:()=>c});var t,i=s(2791);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},l.apply(this,arguments)}function o(e,a){let{title:s,titleId:o,...c}=e;return i.createElement("svg",l({width:19,height:19,viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg",ref:a,"aria-labelledby":o},c),s?i.createElement("title",{id:o},s):null,t||(t=i.createElement("path",{d:"M18 1H15V18H18V1ZM15 0H14V1V18V19H15H18H19V18V1V0H18H15ZM11 9.44441H8V18H11V9.44441ZM8 8.44441H7V9.44441V18V19H8H11H12V18V9.44441V8.44441H11H8ZM1 5.22216H4V18H1V5.22216ZM0 4.22216H1H4H5V5.22216V18V19H4H1H0V18V5.22216V4.22216Z",fill:"black"})))}const c=i.forwardRef(o);s.p},1710:(e,a,s)=>{s.d(a,{r:()=>c});var t,i=s(2791);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},l.apply(this,arguments)}function o(e,a){let{title:s,titleId:o,...c}=e;return i.createElement("svg",l({width:"19px",height:"19px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:a,"aria-labelledby":o},c),s?i.createElement("title",{id:o},s):null,t||(t=i.createElement("path",{d:"M12.9121 1.59053C12.7508 1.2312 12.3936 1 11.9997 1C11.6059 1 11.2487 1.2312 11.0874 1.59053L8.27041 7.86702L1.43062 8.60661C1.03903 8.64895 0.708778 8.91721 0.587066 9.2918C0.465355 9.66639 0.574861 10.0775 0.866772 10.342L5.96556 14.9606L4.55534 21.6942C4.4746 22.0797 4.62768 22.4767 4.94632 22.7082C5.26497 22.9397 5.68983 22.9626 6.03151 22.7667L11.9997 19.3447L17.968 22.7667C18.3097 22.9626 18.7345 22.9397 19.0532 22.7082C19.3718 22.4767 19.5249 22.0797 19.4441 21.6942L18.0339 14.9606L23.1327 10.342C23.4246 10.0775 23.5341 9.66639 23.4124 9.2918C23.2907 8.91721 22.9605 8.64895 22.5689 8.60661L15.7291 7.86702L12.9121 1.59053Z",fill:"#000000"})))}const c=i.forwardRef(o);s.p},847:(e,a,s)=>{s.d(a,{Z:()=>i});s(2791);var t=s(184);const i=e=>{let{children:a,navigationClass:s="origin"}=e;return(0,t.jsx)("div",{className:"Navigation ".concat(s),children:a})}},9940:(e,a,s)=>{s.d(a,{Z:()=>x});var t=s(8642),i=s(2791),l=s(8079),o=s(7689),c=s(1731),n=s(4122),r=s(9934),d=s(7563),v=s(8028),m=s(807);const u=e=>{let{inBasket:a,inCompare:s,inLoves:t,data:l}=e;const[o,c]=(0,i.useState)(a),[u,p]=(0,i.useState)(s),[_,h]=(0,i.useState)(t),[b,L]=(0,i.useState)({basket:!0,compare:!0,love:!0}),{user:f}=(0,n.C)((e=>e.reducer.catalog)),{products:g,compare:H,loves:x}=(0,n.C)((e=>e.reducer.navbar)),j=r.navbarSlice.actions,C=(0,n.T)();(0,i.useEffect)((()=>{c(a)}),[a]),(0,i.useEffect)((()=>{p(s)}),[s]),(0,i.useEffect)((()=>{h(t)}),[t]);return{addToBasket:()=>{const e=document.querySelector(".actionsMenu__span._product"),a=document.querySelector(".Navbar__loader");f.id?b.basket&&(o?(L({...b,basket:!1}),(0,d.ff)({id:l._id,basketId:f.basket}).then((a=>{null===e||void 0===e||e.classList.add("active"),setTimeout((()=>{null===e||void 0===e||e.classList.remove("active")}),300),C(j.setProducts(g-1)),c(!1)})).finally((()=>{L({...b,basket:!0})}))):(L({...b,basket:!1}),(0,d.mk)({basketId:f.basket,product:l._id,count:1}).then((a=>{null===e||void 0===e||e.classList.add("active"),setTimeout((()=>{null===e||void 0===e||e.classList.remove("active")}),300),c(!0),C(j.setProducts(g+1))})).finally((()=>{L({...b,basket:!0})})))):null!==a&&void 0!==a&&a.classList.contains("active")||(null===a||void 0===a||a.classList.add("active"),setTimeout((()=>{null===a||void 0===a||a.classList.remove("active")}),1e3))},addToCompare:()=>{const e=document.querySelector("._compare"),a=document.querySelector(".Navbar__loader");f.id?b.compare&&(u?(L({...b,compare:!1}),(0,v.dH)({id:l._id,compareId:f.compare}).then((a=>{C(j.setCompare(H-1)),p(!1),null===e||void 0===e||e.classList.add("active"),setTimeout((()=>{null===e||void 0===e||e.classList.remove("active")}),300)})).finally((()=>{L({...b,compare:!0})}))):(L({...b,compare:!1}),(0,v.sG)({compareId:f.compare,product:l._id}).then((a=>{p(!0),C(j.setCompare(H+1)),null===e||void 0===e||e.classList.add("active"),setTimeout((()=>{null===e||void 0===e||e.classList.remove("active")}),300),p(!0)})).catch((e=>{console.log(e)})).finally((()=>{L({...b,compare:!0})})))):null!==a&&void 0!==a&&a.classList.contains("active")||(null===a||void 0===a||a.classList.add("active"),setTimeout((()=>{null===a||void 0===a||a.classList.remove("active")}),1e3))},addToLoves:()=>{const e=document.querySelector("._loves"),a=document.querySelector(".Navbar__loader");f.id?b.love&&(_?(L({...b,love:!1}),(0,m.E6)({id:l._id,lovesId:f.loves}).then((a=>{null===e||void 0===e||e.classList.add("active"),setTimeout((()=>{null===e||void 0===e||e.classList.remove("active")}),300),h(!1),C(j.setLoves(x-1))})).finally((()=>{L({...b,love:!0})}))):(L({...b,love:!1}),(0,m.mg)({lovesId:f.loves,product:l._id}).then((a=>{null===e||void 0===e||e.classList.add("active"),setTimeout((()=>{null===e||void 0===e||e.classList.remove("active")}),300),h(!0),C(j.setLoves(x+1))})).catch((e=>{console.log(e.response.data)})).finally((()=>{L({...b,love:!0})})))):null!==a&&void 0!==a&&a.classList.contains("active")||(null===a||void 0===a||a.classList.add("active"),setTimeout((()=>{null===a||void 0===a||a.classList.remove("active")}),1e3))},inBasketSnippet:o,inCompareSnippet:u,inLovesSnippet:_,loaders:b}};var p=s(6594),_=s(1710),h=s(6121),b=s(3286),L=s(7181),f=s(7778),g=s(184);const H=e=>{let{data:a,inBasket:s=!1,inCompare:n=!1,inLoves:r=!1,className:d=""}=e;const v=(0,o.s0)(),{addToBasket:m,addToCompare:H,addToLoves:x,inBasketSnippet:j,inCompareSnippet:C,inLovesSnippet:k,loaders:y}=u({inBasket:s,inCompare:n,inLoves:r,data:a}),w=(0,f.Z)(767.98,479.98),N=(0,f.Z)(479.98),V=(0,i.useMemo)((()=>d?N?"small":"large":w?"small":"large"),[w,N]);return(0,g.jsx)("div",{className:"mainCatalog__item ".concat(d),children:(0,g.jsx)("div",{className:"slidesHome__slide slideHome",children:(0,g.jsxs)("div",{className:"slideHome__body",children:[(0,g.jsx)("div",{className:"slideHome__image",children:(0,g.jsx)("div",{className:"slideHome__imageCover",children:(0,g.jsx)("img",{src:"".concat(l.T5,"/").concat(a.name,"/").concat(JSON.parse(a.images)[0]),alt:""})})}),(0,g.jsx)("div",{className:"slideHome__name",children:a.name}),(0,g.jsx)("div",{className:"slideHome__brand",children:a.type.name}),(0,g.jsxs)("div",{className:"slideHome__price",children:[" $",a.price," "]}),(0,g.jsx)("div",{className:"slideHome__rating",children:(0,g.jsx)(t.Z,{size:V,name:"disabled",value:a.ratings.reduce(((e,a)=>e+a.rate),0)/a.ratings.length,disabled:!0})}),(0,g.jsxs)("div",{className:"slideHome__actions",children:[(0,g.jsx)(L.Z,{onClick:()=>v("".concat(c.H1,"/").concat(a._id)),className:"productCard",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),(0,g.jsx)(L.Z,{onClick:m,className:j?"productCard _cart active":"productCard _cart",children:y.basket?(0,g.jsx)(h.r,{}):(0,g.jsx)(b.Z,{className:j?"basketLoader _d":"basketLoader"})})]}),(0,g.jsxs)("div",{className:"slideHome__business businessHome",children:[y.compare?(0,g.jsx)(p.r,{onClick:H,className:C?"businessHome__item active":"businessHome__item"}):(0,g.jsx)(b.Z,{}),y.love?(0,g.jsx)(_.r,{onClick:x,className:k?"businessHome__item active":"businessHome__item"}):(0,g.jsx)(b.Z,{})]})]})})})},x=(0,i.memo)(H)},5005:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var t=s(5338),i=s(2791),l=s(847),o=s(7563),c=s(8028),n=s(807),r=s(8770),d=s(1771),v=s(9179);var m=s(4122),u=s(77),p=s(9940),_=s(184);const h=()=>{const{compare:e,loves:a,basket:s}=(0,m.C)((e=>e.reducer.catalog)),{load:t}=(0,m.C)((e=>e.reducer.love)),h=(0,m.T)();return(0,i.useEffect)((()=>{h((async e=>{const a=v.h.getState(),{user:s}=a.reducer.catalog,{setBasket:t,setCompare:i,setLoves:l}=r.catalogSlice.actions,{setLoad:m}=d.loveSlice.actions;try{e(m(!0)),e(l((await(0,n.PK)({id:s.loves})).lovesItems)),e(i((await(0,c._$)({id:s.compare})).compareItems)),e(t((await(0,o.fk)({id:s.id})).basketItems))}catch(u){console.log(u)}finally{e(m(!1))}}))}),[]),(0,_.jsx)("div",{className:"Loves",children:(0,_.jsx)("div",{className:"Loves__container",children:(0,_.jsxs)("div",{className:"Loves__body",children:[(0,_.jsx)(l.Z,{navigationClass:"news",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f/\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),t?(0,_.jsx)(u.Z,{}):0!==a.length?(0,_.jsx)("div",{className:"Loves__grid",children:null===a||void 0===a?void 0:a.map((t=>(0,_.jsx)(p.Z,{basket:s,loves:a,compare:e,data:t.product,inCompare:!!e.find((e=>{var a,s;return(null===(a=e.product)||void 0===a?void 0:a._id)==(null===(s=t.product)||void 0===s?void 0:s._id)})),inBasket:!!s.find((e=>{var a;return(null===(a=e.product)||void 0===a?void 0:a._id)==(null===t||void 0===t?void 0:t._id)})),inLoves:!!a.find((e=>{var a,s;return(null===(a=e.product)||void 0===a?void 0:a._id)==(null===(s=t.product)||void 0===s?void 0:s._id)})),className:"catalogItem"},t.product._id)))}):(0,_.jsx)("div",{className:"Loves__none _icon-star",children:"\u041d\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})]})})})},b=()=>(0,_.jsx)(t.Z,{children:(0,_.jsx)(h,{})})}}]);
//# sourceMappingURL=5.d2ed02f7.chunk.js.map