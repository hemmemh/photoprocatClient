{"version":3,"file":"static/js/361.b4b864c5.chunk.js","mappings":"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","sources":["components/UI/navigation/Navigation.tsx","components/UI/amount/Amount.tsx","components/basketProduct/BasketProduct.tsx","store2/actions/BasketActions.ts","components/basket/basketBody/topicBasket/itemsBasket/bodyItems/BodyItems.tsx","components/basket/basketBody/topicBasket/itemsBasket/bottomItems/BottomItems.tsx","components/basket/basketBody/topicBasket/itemsBasket/topItems/TopItems.tsx","components/basket/basketBody/topicBasket/itemsBasket/ItemsBasket.tsx","components/basket/basketBody/topicBasket/TopicBasket.tsx","components/basket/basketBody/BasketBody.tsx","components/basket/MainBasket.tsx","pages/Basket.tsx","../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import React, { type FC, type ReactNode } from 'react'\r\nimport './navigation.scss'\r\ninterface FooterProps {\r\n    name?: string\r\n    children?: ReactNode\r\n    changeName?: boolean\r\n    lock?: boolean\r\n    navigationClass?: string\r\n}\r\nconst Navigation: FC<FooterProps> = ({ children, navigationClass = 'origin' }) => {\r\n    return (\r\n        <div className={`Navigation ${navigationClass}`}>{children}</div>\r\n\r\n    )\r\n}\r\n\r\nexport default Navigation\r\n","import React, { type FC } from 'react'\r\nimport './amount.scss'\r\ninterface button {\r\n    value: number\r\n    change: (prev: number) => void\r\n    classAmount?: string\r\n    max?: number\r\n    min?: number\r\n}\r\nconst Amount: FC<button> = ({ value = 0, change, classAmount = 'origin', max = 1000, min = 1 }) => {\n    const onPlus = (a: number) => {\r\n        const res = Math.min(max, a + 1)\r\n        change(res)\r\n    }\r\n    const onMinus = (a: number) => {\r\n        const res = Math.max(min, a - 1)\r\n        change(res)\r\n    }\r\n    return (\r\n        <div className={`Amount ${classAmount}`}>\r\n            <div onClick={() => { onPlus(value) }} className=\"Amount__change _plus\"></div>\r\n            <div className=\"Amount__number\">{value}</div>\r\n            <div onClick={() => { onMinus(value) }} className=\"Amount__change _minus\"></div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Amount\n","import { type FC, useState, useEffect, useCallback, memo } from 'react'\r\nimport { useAppDispatch } from '../../hooks/reduxHooks'\r\n\r\nimport { changeAm, remove } from '../../store2/actions/BasketActions'\r\nimport { API_URL } from '../../utils/config'\r\nimport Amount from '../UI/amount/Amount'\r\nimport { type IBasketItem } from '../../utils/interfaces'\r\n\r\ninterface IBasketProduct {\r\n    basketItem: IBasketItem\r\n    basketId: any\r\n\r\n}\r\n\r\nconst BasketProduct: FC<IBasketProduct> = ({ basketItem, basketId }) => {\r\n    const [amount, setamount] = useState(0)\r\n    const dispatch = useAppDispatch()\r\n\r\n    useEffect(() => {\r\n        setamount(basketItem.count)\r\n    }, [])\r\n\r\n    const setAmount = useCallback(\r\n        (value: number) => {\r\n            dispatch(changeAm(basketItem, value, amount))\r\n            setamount(value)\r\n        },\r\n        [amount]\r\n    )\r\n\r\n    const onRemove = useCallback(\r\n        () => {\r\n            dispatch(remove(basketItem, amount, basketId))\r\n        },\r\n        [amount]\r\n    )\r\n\r\n    return (\r\n        <div className=\"items-basket__product\">\r\n            <div className=\"items-basket__image-flex\">\r\n                <div className=\"items-basket__image-cover\">\r\n                    <div className=\"items-basket__image\">\r\n                        <img src={`${API_URL}/${basketItem.product.name}/${JSON.parse(basketItem.product.images)[0]}`} alt=\"\"/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"items-basket__info\">\r\n                <div className=\"items-basket__name\">{basketItem.product.name}</div>\r\n                <div className=\"items-basket__brand\">{basketItem.product.brand.name}</div>\r\n            </div>\r\n            <div className=\"items-basket__price\">{basketItem.product.price} Р</div>\r\n            <div className=\"items-basket__amount amount-basket\">\r\n                <Amount value={amount} change={setAmount} classAmount='basket'/>\r\n\r\n            </div>\r\n            <div className=\"items-basket__total\">{basketItem.product.price * amount} Р</div>\r\n            <div onClick={onRemove} className=\"items-basket__delete _icon-delete\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(BasketProduct)\r\n","import { addOrder, changeAmount, getBasket, removeAll, removeItemFromBasket } from '../../https/basketApi'\r\nimport { change } from '../../https/productApi'\r\n\r\nimport { USER_ROUTE } from '../../app/config/routs'\r\nimport { basketSlice } from '../reducers/BasketSlice'\r\n\r\nimport { navbarSlice } from '../reducers/NavBarSlice'\r\n\r\nimport { type AppDispatch, store } from '../store'\r\n\r\nexport const putBasket = () => async (dispatch: AppDispatch) => {\r\n    const currentState = store.getState()\r\n    const { user } = currentState.reducer.catalog\r\n    const { setProducts, setBasket, setLoad } = basketSlice.actions\r\n    try {\r\n        dispatch(setLoad(true))\r\n        const data = await getBasket({ id: user.id })\r\n        dispatch(setBasket(data))\r\n        let arr: any = []\r\n\r\n        for (const it of data.basketItems) {\r\n            arr = [...arr, { [it.product._id]: it.count }]\r\n        }\r\n\r\n        dispatch(setProducts(arr))\r\n    } catch (error) {\r\n        console.log(error)\r\n    } finally {\r\n        dispatch(setLoad(false))\r\n    }\r\n}\r\n\r\nexport const buy = () => async (dispatch: AppDispatch) => {\r\n    const currentState = store.getState()\r\n    const { user } = currentState.reducer.catalog\r\n    const { sumPrice, products } = currentState.reducer.basket\r\n    const { setProducts } = navbarSlice.actions\r\n    const { setLoad } = basketSlice.actions\r\n\r\n    try {\r\n        dispatch(setLoad(true))\r\n\r\n        dispatch(setProducts(0))\r\n\r\n        const basket = await getBasket({ id: user.id })\r\n        let arr: any = []\r\n        for (const it of basket.basketItems) {\r\n            arr = [...arr, { [it.product._id]: it.count }]\r\n        }\r\n\r\n        await addOrder({ ordersId: user.orders, price: sumPrice, products: JSON.stringify(arr) })\r\n\r\n        for (const it of products) {\r\n            await change({ id: Object.keys(it)[0], purchase: 1 })\r\n        }\r\n\r\n        await removeAll({ id: user.basket })\r\n        window.location.replace(USER_ROUTE)\r\n        // window.location.reload();\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const changeAm = (e: any, el: any, amount: any) => async (dispatch: AppDispatch) => {\r\n    const currentState = store.getState()\r\n    const { sumPrice } = currentState.reducer.basket\r\n    const { setSumPrice } = basketSlice.actions\r\n    try {\r\n        dispatch(setSumPrice(sumPrice - (amount * e.product.price) + (el * e.product.price)))\r\n        await changeAmount({ id: e._id, count: el })\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const remove = (e: any, amount: any, basketId: any) => async (dispatch: AppDispatch) => {\r\n    const currentState = store.getState()\r\n    const { sumPrice } = currentState.reducer.basket\r\n    const navbar = currentState.reducer.navbar\r\n    const { basket } = currentState.reducer.basket\r\n    const { setSumPrice, setBasket } = basketSlice.actions\r\n\r\n    const navbarSl = navbarSlice.actions\r\n\r\n    try {\r\n        dispatch(setBasket({ ...basket, basketItems: basket.basketItems.filter((fil: any) => fil._id !== e._id) }))\r\n        dispatch(setSumPrice(sumPrice - (e.product.price * amount)))\r\n        dispatch(navbarSl.setProducts(navbar.products - 1))\r\n        await removeItemFromBasket({ id: e.product._id, basketId })\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n","import { useAppDispatch, useAppSelector } from '../../../../../../hooks/reduxHooks'\r\nimport { basketSlice } from '../../../../../../store2/reducers/BasketSlice'\r\nimport { useEffect } from 'react'\r\nimport BasketProduct from '../../../../../basketProduct/BasketProduct'\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group'\r\nimport { type IBasketItem } from '../../../../../../utils/interfaces'\r\n\r\nconst BodyItems = () => {\r\n    const { user } = useAppSelector(state => state.reducer.catalog)\r\n    const { basket } = useAppSelector(state => state.reducer.basket)\r\n    const { setSumPrice } = basketSlice.actions\r\n    const dispatch = useAppDispatch()\r\n\r\n    useEffect(() => {\r\n        const sum = basket.basketItems.reduce((prev, current) => current.product.price * current.count + prev, 0)\r\n        dispatch(setSumPrice(sum))\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"items-basket__body\">\r\n            <TransitionGroup className=\"todo-list\">\r\n                {\r\n\r\n                    basket.basketItems.map((basketItem: IBasketItem) =>\r\n                        <CSSTransition\r\n                            key={basketItem._id}\r\n                            timeout={300}\r\n                            classNames=\"item\"\r\n                        >\r\n                            <BasketProduct\r\n                                basketItem={basketItem}\r\n                                basketId={user.basket}/>\r\n                        </CSSTransition>\r\n                    )}\r\n            </TransitionGroup>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BodyItems\r\n","import { useAppDispatch, useAppSelector } from '../../../../../../hooks/reduxHooks'\r\nimport { buy } from '../../../../../../store2/actions/BasketActions'\r\nimport Button2 from '../../../../../UI/button2/Button2'\r\nimport './bottomItems.scss'\r\nimport { useCallback } from 'react'\r\nconst BottomItems = () => {\r\n    const { sumPrice } = useAppSelector(state => state.reducer.basket)\r\n    const dispatch = useAppDispatch()\r\n    const buyProduct = useCallback(\r\n        () => {\r\n            dispatch(buy())\r\n        },\r\n        []\r\n    )\r\n\r\n    return (\r\n        <div className='BottomItems__bottom'>\r\n            <div className='BottomItems__submit'>\r\n                <Button2 onClick={buyProduct} className='BottomItems__buttonCart' >Оформить заказ</Button2>\r\n            </div>\r\n            <div className='BottomItems__totalPriceBasket'>\r\n                <div className='BottomItems__left'>Итого:</div>\r\n                <div className='BottomItems__right'>{sumPrice} Р</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BottomItems\r\n","import './topItems.scss'\r\nconst items = ['Фото', 'Название', 'Цена', 'Количество', 'Итого']\r\n\r\nconst TopItems = () => {\r\n    return (\r\n        <div className=\"items-basket__top top-basket\">\r\n            {items.map(item => <div key={item} className=\"top-basket__item\">{item}</div>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TopItems\r\n","import BodyItems from './bodyItems/BodyItems'\r\nimport BottomItems from './bottomItems/BottomItems'\r\nimport TopItems from './topItems/TopItems'\r\nimport './itemsBasket.scss'\r\n\r\nconst ItemsBasket = () => {\r\n    return (\r\n        <div className=\"Basket__items items-basket\">\r\n            <TopItems/>\r\n            <BodyItems/>\r\n            <BottomItems/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ItemsBasket\r\n","import ItemsBasket from './itemsBasket/ItemsBasket'\r\n\r\nconst TopicBasket = () => {\r\n    return (\r\n        <div className=\"Basket__topic\">\r\n            <div className=\"Basket__title\">Корзина</div>\r\n            <ItemsBasket/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TopicBasket\r\n","import { useEffect } from 'react'\r\nimport TopicBasket from './topicBasket/TopicBasket'\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks'\r\nimport { putBasket } from '../../../store2/actions/BasketActions'\r\nimport SpinnerBody from '../../UI/spinnerBody/SpinnerBody'\r\n\r\nexport const BasketBody = () => {\r\n    const { basket, load } = useAppSelector(state => state.reducer.basket)\r\n    const dispatch = useAppDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(putBasket())\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            {load\r\n                ? <SpinnerBody/>\r\n                : (basket && basket.basketItems.length !== 0)\r\n                    ? <TopicBasket/>\r\n                    : <div className=\"Basket__none _icon-cart\">нет товаров</div>\r\n\r\n            }</>\r\n    )\r\n}\r\n","import Navigation from '../UI/navigation/Navigation'\r\nimport { BasketBody } from './basketBody/BasketBody'\r\nimport './basket.scss'\r\n\r\nconst MainBasket = () => {\r\n    return (\r\n        <div className=\"Basket\">\r\n            <div className=\"Basket__container\">\r\n                <div className=\"Basket__body\">\r\n                    <Navigation navigationClass='basket'>Главная / Корзина</Navigation>\r\n                    <BasketBody/>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MainBasket\r\n","import Layout from '../app/Layout'\r\nimport MainBasket from '../components/basket/MainBasket'\r\n\r\nconst Basket = () => {\n    return (\r\n\r\n        <Layout>\r\n            <MainBasket/>\r\n        </Layout>\r\n\r\n    )\r\n}\r\n\r\nexport default Basket\n","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}"],"names":["_ref","children","navigationClass","_jsx","className","concat","value","change","classAmount","max","min","_jsxs","onClick","a","res","Math","onPlus","onMinus","BasketProduct","basketItem","basketId","amount","setamount","useState","dispatch","useAppDispatch","useEffect","count","setAmount","useCallback","changeAm","e","el","async","currentState","store","getState","sumPrice","reducer","basket","setSumPrice","basketSlice","actions","product","price","changeAmount","id","_id","error","console","log","onRemove","remove","navbar","setBasket","navbarSl","navbarSlice","basketItems","filter","fil","setProducts","products","removeItemFromBasket","src","API_URL","name","JSON","parse","images","alt","brand","Amount","memo","BodyItems","user","useAppSelector","state","catalog","sum","reduce","prev","current","TransitionGroup","map","CSSTransition","timeout","classNames","BottomItems","buyProduct","setLoad","getBasket","arr","it","addOrder","ordersId","orders","stringify","Object","keys","purchase","removeAll","window","location","replace","USER_ROUTE","Button2","items","TopItems","item","ItemsBasket","TopicBasket","BasketBody","load","data","_Fragment","SpinnerBody","length","MainBasket","Navigation","Basket","Layout","_extends","assign","bind","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf"],"sourceRoot":""}