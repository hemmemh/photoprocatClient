"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5],{6121:(e,a,t)=>{t.d(a,{r:()=>c});var s,i=t(2791);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},l.apply(this,arguments)}function o(e,a){let{title:t,titleId:o,...c}=e;return i.createElement("svg",l({width:"25px",height:"25px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",id:"cart-alt-1",className:"icon glyph",ref:a,"aria-labelledby":o},c),t?i.createElement("title",{id:o},t):null,s||(s=i.createElement("path",{d:"M10.62,14l-1,2H19a1,1,0,0,1,0,2H9.62a2,2,0,0,1-1.79-2.89L8.9,13,5.32,4H3A1,1,0,0,1,3,2H5.32A2,2,0,0,1,7.18,3.26L7.88,5H20.8l.09,0a1,1,0,0,1,.48.05,1,1,0,0,1,.56,1.3l-2.8,7a1,1,0,0,1-.93.63Zm-.12,5A1.5,1.5,0,1,0,12,20.5,1.5,1.5,0,0,0,10.5,19Zm6,0A1.5,1.5,0,1,0,18,20.5,1.5,1.5,0,0,0,16.5,19Z"})))}const c=i.forwardRef(o);t.p},6594:(e,a,t)=>{t.d(a,{r:()=>c});var s,i=t(2791);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},l.apply(this,arguments)}function o(e,a){let{title:t,titleId:o,...c}=e;return i.createElement("svg",l({width:19,height:19,viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg",ref:a,"aria-labelledby":o},c),t?i.createElement("title",{id:o},t):null,s||(s=i.createElement("path",{d:"M18 1H15V18H18V1ZM15 0H14V1V18V19H15H18H19V18V1V0H18H15ZM11 9.44441H8V18H11V9.44441ZM8 8.44441H7V9.44441V18V19H8H11H12V18V9.44441V8.44441H11H8ZM1 5.22216H4V18H1V5.22216ZM0 4.22216H1H4H5V5.22216V18V19H4H1H0V18V5.22216V4.22216Z",fill:"black"})))}const c=i.forwardRef(o);t.p},1710:(e,a,t)=>{t.d(a,{r:()=>c});var s,i=t(2791);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},l.apply(this,arguments)}function o(e,a){let{title:t,titleId:o,...c}=e;return i.createElement("svg",l({width:"19px",height:"19px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:a,"aria-labelledby":o},c),t?i.createElement("title",{id:o},t):null,s||(s=i.createElement("path",{d:"M12.9121 1.59053C12.7508 1.2312 12.3936 1 11.9997 1C11.6059 1 11.2487 1.2312 11.0874 1.59053L8.27041 7.86702L1.43062 8.60661C1.03903 8.64895 0.708778 8.91721 0.587066 9.2918C0.465355 9.66639 0.574861 10.0775 0.866772 10.342L5.96556 14.9606L4.55534 21.6942C4.4746 22.0797 4.62768 22.4767 4.94632 22.7082C5.26497 22.9397 5.68983 22.9626 6.03151 22.7667L11.9997 19.3447L17.968 22.7667C18.3097 22.9626 18.7345 22.9397 19.0532 22.7082C19.3718 22.4767 19.5249 22.0797 19.4441 21.6942L18.0339 14.9606L23.1327 10.342C23.4246 10.0775 23.5341 9.66639 23.4124 9.2918C23.2907 8.91721 22.9605 8.64895 22.5689 8.60661L15.7291 7.86702L12.9121 1.59053Z",fill:"#000000"})))}const c=i.forwardRef(o);t.p},847:(e,a,t)=>{t.d(a,{Z:()=>i});t(2791);var s=t(184);const i=e=>{let{children:a,navigationClass:t="origin"}=e;return(0,s.jsx)("div",{className:"Navigation ".concat(t),children:a})}},3695:(e,a,t)=>{t.d(a,{Z:()=>b});var s=t(8642),i=t(2791),l=t(8079),o=t(7689),c=t(1731),r=t(6594),n=t(1710),d=t(6121),v=t(3286),u=t(7181),m=t(7778),p=t(3294),_=t(5063),h=t(734),L=t(184);const g=e=>{let{data:a,inBasket:t=!1,inCompare:g=!1,inLoves:b=!1,className:f=""}=e;const H=(0,o.s0)(),{addToBasket:x,inBasketSnippet:C,loader:j}=(0,p.Z)({inBasket:t,productId:a._id}),{addToCompare:y,inCompareSnippet:w,loader:N}=(0,_.Z)({inCompare:g,productId:a._id}),{addToLoves:Z,inLovesSnippet:k,loader:S}=(0,h.Z)({inLoves:b,productId:a._id}),V=(0,m.Z)(767.98,479.98),T=(0,m.Z)(479.98),I=(0,i.useMemo)((()=>f?T?"small":"large":V?"small":"large"),[V,T]);return(0,L.jsx)("div",{className:"mainCatalog__item ".concat(f),children:(0,L.jsx)("div",{className:"slidesHome__slide slideHome",children:(0,L.jsxs)("div",{className:"slideHome__body",children:[(0,L.jsx)("div",{className:"slideHome__image",children:(0,L.jsx)("div",{className:"slideHome__imageCover",children:(0,L.jsx)("img",{src:"".concat(l.T5,"/").concat(a.name,"/").concat(JSON.parse(a.images)[0]),alt:""})})}),(0,L.jsx)("div",{className:"slideHome__name",children:a.name}),(0,L.jsx)("div",{className:"slideHome__brand",children:a.type.name}),(0,L.jsxs)("div",{className:"slideHome__price",children:[" $",a.price," "]}),(0,L.jsx)("div",{className:"slideHome__rating",children:(0,L.jsx)(s.Z,{size:I,name:"disabled",value:a.ratings.reduce(((e,a)=>e+a.rate),0)/a.ratings.length,disabled:!0})}),(0,L.jsxs)("div",{className:"slideHome__actions",children:[(0,L.jsx)(u.Z,{onClick:()=>H("".concat(c.H1,"/").concat(a._id)),className:"productCard",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),(0,L.jsx)(u.Z,{onClick:x,className:C?"productCard _cart active":"productCard _cart",children:j?(0,L.jsx)(d.r,{}):(0,L.jsx)(v.Z,{className:C?"basketLoader _d":"basketLoader"})})]}),(0,L.jsxs)("div",{className:"slideHome__business businessHome",children:[N?(0,L.jsx)(r.r,{onClick:y,className:w?"businessHome__item active":"businessHome__item"}):(0,L.jsx)(v.Z,{}),S?(0,L.jsx)(n.r,{onClick:Z,className:k?"businessHome__item active":"businessHome__item"}):(0,L.jsx)(v.Z,{})]})]})})})},b=(0,i.memo)(g)},3294:(e,a,t)=>{t.d(a,{Z:()=>c});var s=t(2791),i=t(4122),l=t(9934),o=t(7563);const c=e=>{let{inBasket:a,productId:t}=e;const[c,r]=(0,s.useState)(a),[n,d]=(0,s.useState)(!0),{user:v}=(0,i.C)((e=>e.reducer.catalog)),{products:u}=(0,i.C)((e=>e.reducer.navbar)),m=l.navbarSlice.actions,p=(0,i.T)();(0,s.useEffect)((()=>{r(a)}),[a]);return{addToBasket:()=>{const e=document.querySelector(".actionsMenu__span._product"),a=document.querySelector(".Navbar__loader");v.id?n&&(c?(d(!1),p(m.setProducts(u-1)),(0,o.ff)({id:t,basketId:v.basket}).then((a=>{null===e||void 0===e||e.classList.add("active"),setTimeout((()=>{null===e||void 0===e||e.classList.remove("active")}),300),r(!1)})).finally((()=>{d(!0)}))):(d(!1),p(m.setProducts(u+1)),(0,o.mk)({basketId:v.basket,product:t,count:1}).then((a=>{null===e||void 0===e||e.classList.add("active"),setTimeout((()=>{null===e||void 0===e||e.classList.remove("active")}),300),r(!0)})).finally((()=>{d(!0)})))):null!==a&&void 0!==a&&a.classList.contains("active")||(null===a||void 0===a||a.classList.add("active"),setTimeout((()=>{null===a||void 0===a||a.classList.remove("active")}),1e3))},inBasketSnippet:c,loader:n}}},5063:(e,a,t)=>{t.d(a,{Z:()=>c});var s=t(2791),i=t(4122),l=t(9934),o=t(8028);const c=e=>{let{inCompare:a,productId:t}=e;const[c,r]=(0,s.useState)(a),[n,d]=(0,s.useState)(!0),{user:v}=(0,i.C)((e=>e.reducer.catalog)),{products:u,compare:m,loves:p}=(0,i.C)((e=>e.reducer.navbar)),_=l.navbarSlice.actions,h=(0,i.T)();(0,s.useEffect)((()=>{r(a)}),[a]);return{addToCompare:()=>{const e=document.querySelector("._compare"),a=document.querySelector(".Navbar__loader");v.id?n&&(c?(d(!1),(0,o.dH)({id:t,compareId:v.compare}).then((a=>{h(_.setCompare(m-1)),r(!1),null===e||void 0===e||e.classList.add("active"),setTimeout((()=>{null===e||void 0===e||e.classList.remove("active")}),300)})).finally((()=>{d(!0)}))):(d(!1),(0,o.sG)({compareId:v.compare,product:t}).then((a=>{r(!0),h(_.setCompare(m+1)),null===e||void 0===e||e.classList.add("active"),setTimeout((()=>{null===e||void 0===e||e.classList.remove("active")}),300),r(!0)})).catch((e=>{console.log(e)})).finally((()=>{d(!0)})))):null!==a&&void 0!==a&&a.classList.contains("active")||(null===a||void 0===a||a.classList.add("active"),setTimeout((()=>{null===a||void 0===a||a.classList.remove("active")}),1e3))},inCompareSnippet:c,loader:n}}},734:(e,a,t)=>{t.d(a,{Z:()=>c});var s=t(2791),i=t(4122),l=t(9934),o=t(807);const c=e=>{let{inLoves:a,productId:t}=e;const[c,r]=(0,s.useState)(a),[n,d]=(0,s.useState)(!0),{user:v}=(0,i.C)((e=>e.reducer.catalog)),{loves:u}=(0,i.C)((e=>e.reducer.navbar)),m=l.navbarSlice.actions,p=(0,i.T)();(0,s.useEffect)((()=>{r(a)}),[a]);return{addToLoves:()=>{const e=document.querySelector("._loves"),a=document.querySelector(".Navbar__loader");v.id?n&&(c?(d(!1),(0,o.E6)({id:t,lovesId:v.loves}).then((a=>{null===e||void 0===e||e.classList.add("active"),setTimeout((()=>{null===e||void 0===e||e.classList.remove("active")}),300),r(!1),p(m.setLoves(u-1))})).finally((()=>{d(!0)}))):(d(!1),(0,o.mg)({lovesId:v.loves,product:t}).then((a=>{null===e||void 0===e||e.classList.add("active"),setTimeout((()=>{null===e||void 0===e||e.classList.remove("active")}),300),r(!0),p(m.setLoves(u+1))})).catch((e=>{console.log(e.response.data)})).finally((()=>{d(!0)})))):null!==a&&void 0!==a&&a.classList.contains("active")||(null===a||void 0===a||a.classList.add("active"),setTimeout((()=>{null===a||void 0===a||a.classList.remove("active")}),1e3))},inLovesSnippet:c,loader:n}}},5005:(e,a,t)=>{t.r(a),t.d(a,{default:()=>L});var s=t(5338),i=t(2791),l=t(847),o=t(7563),c=t(8028),r=t(807),n=t(8770),d=t(1771),v=t(9179);var u=t(4122),m=t(77),p=t(3695),_=t(184);const h=()=>{const{compare:e,loves:a,basket:t}=(0,u.C)((e=>e.reducer.catalog)),{load:s}=(0,u.C)((e=>e.reducer.love)),h=(0,u.T)();return(0,i.useEffect)((()=>{h((async e=>{const a=v.h.getState(),{user:t}=a.reducer.catalog,{setBasket:s,setCompare:i,setLoves:l}=n.catalogSlice.actions,{setLoad:u}=d.loveSlice.actions;try{e(u(!0)),e(l((await(0,r.PK)({id:t.loves})).lovesItems)),e(i((await(0,c._$)({id:t.compare})).compareItems)),e(s((await(0,o.fk)({id:t.id})).basketItems))}catch(m){console.log(m)}finally{e(u(!1))}}))}),[]),(0,_.jsx)("div",{className:"Loves",children:(0,_.jsx)("div",{className:"Loves__container",children:(0,_.jsxs)("div",{className:"Loves__body",children:[(0,_.jsx)(l.Z,{navigationClass:"news",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f/\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),s?(0,_.jsx)(m.Z,{}):0!==a.length?(0,_.jsx)("div",{className:"Loves__grid",children:null===a||void 0===a?void 0:a.map((s=>(0,_.jsx)(p.Z,{basket:t,loves:a,compare:e,data:s.product,inCompare:!!e.find((e=>{var a,t;return(null===(a=e.product)||void 0===a?void 0:a._id)==(null===(t=s.product)||void 0===t?void 0:t._id)})),inBasket:!!t.find((e=>{var a;return(null===(a=e.product)||void 0===a?void 0:a._id)==(null===s||void 0===s?void 0:s._id)})),inLoves:!!a.find((e=>{var a,t;return(null===(a=e.product)||void 0===a?void 0:a._id)==(null===(t=s.product)||void 0===t?void 0:t._id)})),className:"catalogItem"},s.product._id)))}):(0,_.jsx)("div",{className:"Loves__none _icon-star",children:"\u041d\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})]})})})},L=()=>(0,_.jsx)(s.Z,{children:(0,_.jsx)(h,{})})}}]);
//# sourceMappingURL=5.6a4c7859.chunk.js.map